# Практична робота №7 
**Тема:** Дослідження, моделювання та нестандартні підходи до аналізу процесів, файлових систем, безпеки та ресурсів в Linux

---

## Задача 1: Використання `popen()` для передачі виводу `rwho` у `more`

Було реалізовано програму на C, яка використовує `popen()` для отримання результату команди `rwho`, і цей результат передається у `more` для посторінкового перегляду. Такий підхід демонструє використання стандартних засобів міжпроцесної взаємодії (pipe) у Unix. Це приклад побудови простого ланцюжка команд на рівні C-програми.

---

## Задача 2: Імітація команди `ls -l` на C (без виклику самої команди)

Програма була реалізована з використанням системних викликів `opendir`, `readdir`, `stat`, `getpwuid`, `getgrgid` та побудови рядка прав доступу вручну. У результаті — виводиться перелік файлів поточного каталогу у стилі `ls -l`, з відображенням прав доступу, власника, групи, розміру та дати. Це Задача дозволило глибше ознайомитися зі структурою `stat` і внутрішнім представленням прав доступу в Linux.

---

## Задача 3: Спрощений аналог `grep`

Було реалізовано пошук рядків у текстовому файлі, які містять задане слово. Програма використовує `fgets` і `strstr` для пошуку підрядка. Задача показує роботу з потоками файлів та просту обробку текстових даних у стилі UNIX-фільтрів.

---

## Задача 4: Спрощена версія `more` з посторінковим переглядом файлів

Програма відображає вміст файлів, переданих як аргументи, з паузою після кожних 20 рядків і очікуванням натискання клавіші. Це Задача демонструє базові принципи інтерфейсу "людина-комп'ютер" у терміналі та роботу з буферизованим вводом/виводом.

---

## Задача 5: Рекурсивний перегляд усіх файлів у поточному каталозі та підкаталогах

Програма обхідно ітеративно читає всі файли в каталозі та підкаталогах за допомогою рекурсивного виклику функції, яка працює з `readdir` та `stat`. Таким чином реалізовано поведінку подібну до `find .`. Отримано розуміння того, як рекурсія та файлові дескриптори дозволяють реалізувати повну інвентаризацію файлової структури.

---

## Задача 6: Перелік лише підкаталогів у алфавітному порядку

Зчитано список елементів каталогу, відібрано лише ті, що є підкаталогами (за допомогою `stat` і `S_ISDIR`), і відсортовано їх за допомогою `qsort`. Реалізація показує, як поєднати обробку файлової системи з сортуванням у C.

---

## Задача 7: Визначення .out-програм користувача та додавання дозволу на читання для інших

Програма зчитує всі виконувані файли користувача (без розширення `.c`) у поточному каталозі та запитує, чи додати до них дозвіл на читання іншими користувачами (chmod o+r). Продемонстровано роботу з `stat`, `access`, `chmod`, що важливо для управління безпекою та дозволами у Linux.

---

## Задача 8: Інтерактивне видалення файлів з підтвердженням

Програма проходить усі звичайні файли в поточному каталозі й запитує користувача, чи слід їх видалити. Додано можливість видалити всі файли одразу (`a`) або завершити перегляд (`q`). Це корисна демонстрація захищеного видалення з ручним підтвердженням.

---

## Задача 9: Вимірювання часу виконання фрагмента коду

Було реалізовано програму, яка заміряє час виконання фрагмента коду у мілісекундах, використовуючи `gettimeofday()`. Таким чином вивчається вимір продуктивності в реальному часі, що актуально для профілювання продуктивності програм у Linux.

---

## Задача 10: Генерація випадкових чисел з плаваючою комою

Створено програму для генерації чисел:
(a) у діапазоні \[0.0; 1.0]
(b) у діапазоні \[0.0; n], де `n` задається користувачем.
Використовується `rand()` та масштабування до float, ініціалізація `srand(time(NULL))` гарантує унікальність послідовності. Програма компілюється з прапорцем `-Wall`, як вимагається. Це практичне застосування генерації випадкових чисел для задач моделювання.

---

## Завдання 16: Визначення рівня фрагментації файлу

Реалізовано програму, яка за допомогою системного виклику `ioctl(fd, FIBMAP, ...)` отримує фізичні блоки, що займає файл. Після аналізу безперервності блоків виводиться кількість фрагментів і рівень фрагментації у відсотках. Програму слід запускати з root-доступом. Це дає можливість зрозуміти, як фрагментація впливає на ефективність зчитування файлів і як її виявити програмно.

---

# Висновок

У ході виконання 11 практичних задач було глибоко досліджено і реалізовано ключові аспекти роботи з файловою системою, процесами, дозволами та ресурсами в середовищі Linux. Отримано практичний досвід роботи з системними викликами `stat`, `chmod`, `readdir`, `fork`, `popen`, `ioctl`, `gettimeofday`, `rand`, та ін. Задачі імітували або частково реалізовували утиліти системного рівня (`ls`, `grep`, `more`, `find`, `chmod`, `rm`), що дозволило зрозуміти внутрішню реалізацію цих інструментів. Крім того, реалізовано вимірювання продуктивності та аналіз фізичного розташування файлів на диску — важливі аспекти дослідження ефективності файлових систем.

Ця робота сприяла формуванню навичок системного програмування в Linux та розвитку нестандартного мислення при аналізі і моделюванні поведінки файлових систем і ресурсів.
